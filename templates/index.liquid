{% comment %}
  Sci-Fi Shopify Theme - å¢å¼ºç‰ˆä¸»é¡µæ¨¡æ¿
  é‡ç‚¹ä¼˜åŒ–ï¼š
  1. æ¨ªå¹…æ¨¡å—ï¼šæ·±è‰²èƒŒæ™¯ã€æ›´å¤§å­—ä½“ã€æ™ºèƒ½æ»šåŠ¨
  2. å¤´éƒ¨æ¨¡å—ï¼šæœç´¢æ¡†è¾¹æ¡†ã€æŒ‰é’®æ˜¾çœ¼é¢œè‰²ã€å‘å…‰åŠ¨æ•ˆ
{% endcomment %}

<div class="sci-fi-homepage-optimized">

  <!-- é¡¶éƒ¨æ¨ªå¹…æ¨¡å— - å¢å¼ºç‰ˆ -->
  <section class="announcement-bar enhanced" data-section-type="announcement-bar">
    <div class="announcement-content" id="announcementText">
      {% if section.settings.announcement_text != blank %}
        {{ section.settings.announcement_text }}
      {% else %}
        ğŸ‰ é™æ—¶ä¼˜æƒ ï¼šå…¨åœºå•†å“æ»¡299å‡50ï¼Œæ–°ç”¨æˆ·é¦–å•8æŠ˜ä¼˜æƒ ï¼ä¼˜æƒ ç ï¼šSCI-FI-2024
      {% endif %}
    </div>
  </section>

  <!-- å¤´éƒ¨æ¨¡å— - å¢å¼ºç‰ˆ -->
  <header class="main-header enhanced" data-section-type="header">
    <div class="header-container">
      <!-- åº—é“ºLogo -->
      <div class="header-logo">
        <a href="/" class="logo-link">
          <img src="{{ 'logo.png' | asset_url }}"
               alt="{{ shop.name }}"
               class="logo-image">
        </a>
      </div>

      <!-- æœç´¢æ å’Œå…¶ä»–ç»„ä»¶ -->
      <div class="header-actions">
        <!-- æœç´¢æ  -->
        <div class="search-container enhanced">
          <form class="search-form" action="/search" method="get" role="search">
            <input type="search"
                   name="q"
                   class="search-input"
                   placeholder="æœç´¢äº§å“..."
                   value="{{ search.terms | escape }}"
                   aria-label="æœç´¢äº§å“">
            <button type="submit" class="search-button" aria-label="æœç´¢">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </form>
        </div>

        <!-- FAQæŒ‰é’® - å¢å¼ºæ•ˆæœ -->
        <a href="/pages/faq" class="header-btn faq-btn enhanced">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span class="btn-text">FAQ</span>
        </a>

        <!-- My AccountæŒ‰é’® - å¢å¼ºæ•ˆæœ -->
        {% if customer %}
          <a href="{{ routes.account_url }}" class="header-btn account-btn enhanced">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span class="btn-text">{{ customer.first_name | default: 'My Account' }}</span>
          </a>
        {% else %}
          <a href="{{ routes.account_login_url }}" class="header-btn account-btn enhanced">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span class="btn-text">My Account</span>
          </a>
        {% endif %}
      </div>
    </div>
  </header>

  <!-- å¯¼èˆªæ æ¨¡å— -->
  <nav class="main-navigation sticky-nav" data-section-type="navigation">
    <div class="nav-container">
      <!-- å·¦ä¾§å¯¼èˆªèœå• -->
      <ul class="nav-menu">
        <li class="nav-item">
          <a href="/" class="nav-link active">HOME</a>
        </li>
        <li class="nav-item mega-dropdown">
          <a href="/collections/all" class="nav-link">SHOP</a>
          <div class="mega-menu">
            <div class="mega-menu-content">
              <!-- ç”µå­äº§å“ -->
              <div class="mega-category">
                <a href="/collections/electronics" class="category-title">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="8" y1="12" x2="16" y2="12" stroke="currentColor" stroke-width="2"/>
                    <circle cx="6" cy="18" r="1" fill="currentColor"/>
                    <circle cx="18" cy="18" r="1" fill="currentColor"/>
                  </svg>
                  ç”µå­äº§å“
                </a>
                <ul class="subcategories">
                  <li><a href="/collections/smartphones">æ™ºèƒ½æ‰‹æœº</a></li>
                  <li><a href="/collections/laptops">ç¬”è®°æœ¬ç”µè„‘</a></li>
                  <li><a href="/collections/tablets">å¹³æ¿ç”µè„‘</a></li>
                  <li><a href="/collections/headphones">è€³æœºéŸ³å“</a></li>
                  <li><a href="/collections/cameras">æ‘„å½±æ‘„åƒ</a></li>
                </ul>
              </div>

              <!-- æ™ºèƒ½å®¶å±… -->
              <div class="mega-category">
                <a href="/collections/smart-home" class="category-title">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="9,22 9,12 15,12 15,22" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  æ™ºèƒ½å®¶å±…
                </a>
                <ul class="subcategories">
                  <li><a href="/collections/smart-speakers">æ™ºèƒ½éŸ³ç®±</a></li>
                  <li><a href="/collections/smart-lights">æ™ºèƒ½ç…§æ˜</a></li>
                  <li><a href="/collections/smart-locks">æ™ºèƒ½é—¨é”</a></li>
                  <li><a href="/collections/some-sensors">ä¼ æ„Ÿå™¨</a></li>
                  <li><a href="/collections/home-automation">å®¶å±…æ§åˆ¶</a></li>
                </ul>
              </div>

              <!-- ç©¿æˆ´è®¾å¤‡ -->
              <div class="mega-category">
                <a href="/collections/wearables" class="category-title">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect x="12" y="2" width="8" height="20" rx="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="14" y1="4" x2="18" y2="4" stroke="currentColor" stroke-width="2"/>
                    <line x1="14" y1="8" x2="18" y2="8" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 18a4 4 0 01-8 0" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  ç©¿æˆ´è®¾å¤‡
                </a>
                <ul class="subcategories">
                  <li><a href="/collections/smartwatches">æ™ºèƒ½æ‰‹è¡¨</a></li>
                  <li><a href="/collections/fitness-trackers">è¿åŠ¨æ‰‹ç¯</a></li>
                  <li><a href="/collections/smart-rings">æ™ºèƒ½æˆ’æŒ‡</a></li>
                  <li><a href="/collections/health-monitors">å¥åº·ç›‘æµ‹</a></li>
                  <li><a href="/collections/ar-glasses">ARçœ¼é•œ</a></li>
                </ul>
              </div>

              <!-- æ¸¸æˆç”µç« -->
              <div class="mega-category">
                <a href="/collections/gaming" class="category-title">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect x="2" y="6" width="20" height="12" rx="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="6" y1="12" x2="6" y2="12" stroke="currentColor" stroke-width="4"/>
                    <circle cx="18" cy="12" r="2" fill="currentColor"/>
                    <rect x="8" y="10" width="6" height="4" rx="1" fill="currentColor"/>
                  </svg>
                  æ¸¸æˆç”µç«
                </a>
                <ul class="subcategories">
                  <li><a href="/collections/gaming-consoles">æ¸¸æˆä¸»æœº</a></li>
                  <li><a href="/collections/gaming-pc">æ¸¸æˆç”µè„‘</a></li>
                  <li><a href="/collections/gaming-monitors">ç”µç«æ˜¾ç¤ºå™¨</a></li>
                  <li><a href="/collections/gaming-keyboards">æœºæ¢°é”®ç›˜</a></li>
                  <li><a href="/collections/gaming-mice">æ¸¸æˆé¼ æ ‡</a></li>
                </ul>
              </div>

              <!-- åŠå…¬è®¾å¤‡ -->
              <div class="mega-category">
                <a href="/collections/office" class="category-title">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2"/>
                    <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2"/>
                    <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  åŠå…¬è®¾å¤‡
                </a>
                <ul class="subcategories">
                  <li><a href="/collections/printers">æ‰“å°æœº</a></li>
                  <li><a href="/collections/scanners">æ‰«æä»ª</a></li>
                  <li><a href="/collections/projectors">æŠ•å½±ä»ª</a></li>
                  <li><a href="/collections/office-furniture">åŠå…¬å®¶å…·</a></li>
                  <li><a href="/collections/network-equipment">ç½‘ç»œè®¾å¤‡</a></li>
                </ul>
              </div>

              <!-- é…ä»¶å‘¨è¾¹ -->
              <div class="mega-category">
                <a href="/collections/accessories" class="category-title">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="12" r="3" fill="currentColor"/>
                  </svg>
                  é…ä»¶å‘¨è¾¹
                </a>
                <ul class="subcategories">
                  <li><a href="/collections/phone-cases">æ‰‹æœºå£³è†œ</a></li>
                  <li><a href="/collections/cables">è¿æ¥çº¿æ</a></li>
                  <li><a href="/collections/chargers">å……ç”µè®¾å¤‡</a></li>
                  <li><a href="/cases/external-storage">å­˜å‚¨è®¾å¤‡</a></li>
                  <li><a href="/cases/car-accessories">è½¦è½½é…ä»¶</a></li>
                </ul>
              </div>
            </div>
          </div>
        </li>
        <li class="nav-item">
          <a href="/blogs/news" class="nav-link">BLOG</a>
        </li>
        <li class="nav-item">
          <a href="/pages/about" class="nav-link">ABOUT US</a>
        </li>
      </ul>

      <!-- å³ä¾§è´­ç‰©è½¦ -->
      <div class="cart-section">
        <div class="cart-total" id="cartTotal">Â¥0.00</div>
        <a href="{{ routes.cart_url }}" class="cart-button">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M9 2 6 9H22l-2 7H4l-3-7h0.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="9" cy="22" r="2" fill="currentColor"/>
            <circle cx="20" cy="22" r="2" fill="currentColor"/>
          </svg>
          <span class="cart-count" id="cartCount">0</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- æ»šåŠ¨Bannerå›¾éƒ¨åˆ† -->
  <section class="scrolling-banner-section">
    <div class="scrolling-banner" id="scrollingBanner">
      <div class="banner-slide active" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1518709268805-4e9042af2176') center/cover;">
        <div class="banner-content">
          <h2 class="banner-title">æœ€æ–°ç§‘æŠ€äº§å“</h2>
          <p class="banner-subtitle">æ¢ç´¢æœªæ¥ç”Ÿæ´»ï¼Œä½“éªŒç§‘æŠ€åˆ›æ–°</p>
          <a href="/collections/all" class="banner-button glow-button">ç«‹å³é€‰è´­</a>
        </div>
      </div>
      <div class="banner-slide" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1550745165-9bc0b252726a') center/cover;">
        <div class="banner-content">
          <h2 class="banner-title">é™æ—¶ç‰¹æƒ </h2>
          <p class="banner-subtitle">å…¨åœº8æŠ˜ä¼˜æƒ ï¼Œç§‘æŠ€ç”Ÿæ´»è§¦æ‰‹å¯åŠ</p>
          <a href="/collections/sale" class="banner-button glow-button">æŸ¥çœ‹ä¼˜æƒ </a>
        </div>
      </div>
      <div class="banner-slide" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1517430816045-df4b7de11d1d') center/cover;">
        <div class="banner-content">
          <h2 class="banner-title">æ–°å“ä¸Šå¸‚</h2>
          <p class="banner-subtitle">æœ€æ–°å‘å¸ƒçš„æ™ºèƒ½è®¾å¤‡ï¼Œå¼•é¢†ç§‘æŠ€æ½®æµ</p>
          <a href="/collections/new" class="banner-button glow-button">æ¢ç´¢æ–°å“</a>
        </div>
      </div>
    </div>
    <!-- è½®æ’­æŒ‡ç¤ºå™¨ -->
    <div class="banner-indicators">
      <span class="indicator active" data-slide="0"></span>
      <span class="indicator" data-slide="1"></span>
      <span class="indicator" data-slide="2"></span>
    </div>
  </section>

  <!-- äº§å“åˆ†ç±»éƒ¨åˆ† -->
  <section class="product-categories-section">
    <div class="content-container">
      <h2 class="section-title">äº§å“åˆ†ç±»</h2>
      <div class="categories-grid">
        {% for collection in collections limit: 6 %}
          {% unless collection.handle == 'frontpage' %}
            <div class="category-card">
              <a href="{{ collection.url }}" class="category-link">
                <div class="category-image">
                  {% if collection.featured_image %}
                    <img src="{{ collection.featured_image | image_url: width: 400, height: 300 }}"
                         alt="{{ collection.title }}"
                         loading="lazy">
                  {% else %}
                    <div class="placeholder-image">{{ collection.title | slice: 0, 1 }}</div>
                  {% endif %}
                </div>
                <div class="category-info">
                  <h3 class="category-title">{{ collection.title }}</h3>
                  <p class="category-count">{{ collection.all_products_count }} ä»¶äº§å“</p>
                </div>
                <div class="category-overlay">
                  <span class="view-category">æŸ¥çœ‹åˆ†ç±»</span>
                </div>
              </a>
            </div>
          {% endunless %}
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- æ´»åŠ¨æ¨ªå¹…1 -->
  <section class="promo-banner-section">
    <div class="content-container">
      <div class="promo-banner rounded-banner" style="background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));">
        <div class="promo-content">
          <div class="promo-text">
            <h2 class="promo-title">ğŸ‰ å¹´åº¦å¤§ä¿ƒ</h2>
            <p class="promo-subtitle">ç²¾é€‰ç§‘æŠ€äº§å“é™æ—¶7æŠ˜èµ·</p>
          </div>
          <a href="/collections/sale" class="promo-button glow-button">ç«‹å³æŠ¢è´­</a>
        </div>
        <div class="promo-visual">
          <div class="glow-effect"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- çƒ­é”€äº§å“å±•ç¤º1 -->
  <section class="hot-products-section">
    <div class="content-container">
      <div class="section-header">
        <h2 class="section-title">çƒ­é”€äº§å“</h2>
        <p class="section-subtitle">æœ€å—æ¬¢è¿çš„ç§‘æŠ€ç²¾å“</p>
      </div>
      <div class="products-grid-five">
        {% assign hot_products = collections['all'].products | sort: 'best-selling' %}
        {% for product in hot_products limit: 10 %}
          <div class="product-card-five">
            <a href="{{ product.url }}" class="product-link">
              <div class="product-image">
                {% if product.featured_image %}
                  <img src="{{ product.featured_image | image_url: width: 300, height: 300 }}"
                       alt="{{ product.title }}"
                       loading="lazy">
                {% endif %}
                {% if product.compare_at_price > product.price %}
                  <span class="sale-badge">-{{ product.compare_at_price | minus: product.price | times: 100.0 | divided_by: product.compare_at_price | round }}%</span>
                {% endif %}
              </div>
              <div class="product-info">
                <h3 class="product-title">{{ product.title }}</h3>
                <div class="product-price">
                  {% if product.compare_at_price > product.price %}
                    <span class="compare-price">{{ product.compare_at_price | money }}</span>
                    <span class="current-price">{{ product.price | money }}</span>
                  {% else %}
                    <span class="current-price">{{ product.price | money }}</span>
                  {% endif %}
                </div>
                <div class="product-hover">
                  <span class="quick-view">å¿«é€ŸæŸ¥çœ‹</span>
                </div>
              </div>
            </a>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- æ´»åŠ¨æ¨ªå¹…2 -->
  <section class="promo-banner-section">
    <div class="content-container">
      <div class="promo-banner rounded-banner" style="background: linear-gradient(135deg, #667eea, #764ba2);">
        <div class="promo-content">
          <div class="promo-text">
            <h2 class="promo-title">ğŸš€ æ–°å“é¦–å‘</h2>
            <p class="promo-subtitle">æ™ºèƒ½ç©¿æˆ´è®¾å¤‡ï¼Œå¼€å¯å¥åº·æ–°ç”Ÿæ´»</p>
          </div>
          <a href="/collections/new" class="promo-button glow-button">æ¢ç´¢æ–°å“</a>
        </div>
        <div class="promo-visual">
          <div class="pulse-effect"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- çƒ­é”€äº§å“å±•ç¤º2 (æ´»åŠ¨å•†å“) -->
  <section class="activity-products-section">
    <div class="content-container">
      <div class="section-header">
        <h2 class="section-title">é™æ—¶æ´»åŠ¨</h2>
        <p class="section-subtitle">è¶…å€¼ä¼˜æƒ ï¼Œä¸å®¹é”™è¿‡</p>
      </div>
      <div class="products-grid-five single-row">
        {% assign activity_products = collections['sale'].products | sort: 'created-descending' %}
        {% for product in activity_products limit: 5 %}
          <div class="product-card-five activity-product">
            <a href="{{ product.url }}" class="product-link">
              <div class="product-image">
                {% if product.featured_image %}
                  <img src="{{ product.featured_image | image_url: width: 300, height: 300 }}"
                       alt="{{ product.title }}"
                       loading="lazy">
                {% endif %}
                <span class="activity-badge">é™æ—¶ç‰¹ä»·</span>
              </div>
              <div class="product-info">
                <h3 class="product-title">{{ product.title }}</h3>
                <div class="product-price">
                  {% if product.compare_at_price > product.price %}
                    <span class="compare-price">{{ product.compare_at_price | money }}</span>
                    <span class="current-price">{{ product.price | money }}</span>
                  {% else %}
                    <span class="current-price">{{ product.price | money }}</span>
                  {% endif %}
                </div>
                <div class="countdown-timer" data-end-time="{{ product.published_at | date: '%s' | plus: 604800 }}">
                  <span class="countdown-text">é™æ—¶ä¼˜æƒ </span>
                </div>
              </div>
            </a>
          </div>
        {% endfor %}
      </div>
      <div class="section-actions">
        <a href="/collections/sale" class="glow-button primary large">
          <span>VIEW ALL</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M5 12h14m-7-7l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- å•†åº—æ”¿ç­–éƒ¨åˆ† -->
  <section class="store-policies-section">
    <div class="content-container">
      <div class="policies-grid">
        <div class="policy-item">
          <div class="policy-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
              <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 8v4m0 4h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3 class="policy-title">Fast Delivery</h3>
          <p class="policy-description">å…¨å›½èŒƒå›´å†…3-5å¤©å¿«é€Ÿé€è¾¾</p>
        </div>
        <div class="policy-item">
          <div class="policy-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3 class="policy-title">Warranty</h3>
          <p class="policy-description">å®˜æ–¹æ­£å“ä¿éšœï¼Œäº«ä¸€å¹´è´¨ä¿æœåŠ¡</p>
        </div>
        <div class="policy-item">
          <div class="policy-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
              <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3 class="policy-title">24/7 Support</h3>
          <p class="policy-description">å…¨å¤©å€™åœ¨çº¿å®¢æœï¼Œéšæ—¶è§£ç­”ç–‘é—®</p>
        </div>
      </div>
    </div>
  </section>

  <!-- é¡µè„šéƒ¨åˆ† -->
  <footer class="site-footer">
    <div class="content-container">
      <div class="footer-top">
        <div class="footer-column">
          <div class="footer-logo">
            <h3 class="footer-logo-text scifi-gradient-text">{{ shop.name }}</h3>
            <p class="footer-description">
              ä¸“æ³¨äºæä¾›æœ€æ–°ç§‘æŠ€äº§å“å’Œæ™ºèƒ½è§£å†³æ–¹æ¡ˆï¼Œè®©ç§‘æŠ€æ”¹å˜ç”Ÿæ´»ï¼Œåˆ›æ–°å¼•é¢†æœªæ¥ã€‚
            </p>
          </div>
          <div class="footer-contact">
            <h4>è”ç³»æˆ‘ä»¬</h4>
            <div class="contact-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/>
              </svg>
              <span>å®¢æœçƒ­çº¿ï¼š400-123-4567</span>
            </div>
            <div class="contact-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
              </svg>
              <span>service@scifistore.com</span>
            </div>
          </div>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">Useful Links</h4>
          <ul class="footer-links">
            <li><a href="/pages/about">å…³äºæˆ‘ä»¬</a></li>
            <li><a href="/pages/shipping">é…é€ä¿¡æ¯</a></li>
            <li><a href="/pages/returns">é€€æ¢è´§æ”¿ç­–</a></li>
            <li><a href="/pages/privacy">éšç§æ”¿ç­–</a></li>
            <li><a href="/pages/terms">æœåŠ¡æ¡æ¬¾</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">FAQ</h4>
          <ul class="footer-links">
            <li><a href="/pages/faq#shipping">é…é€æ—¶é—´</a></li>
            <li><a href="/pages/faq#payment">æ”¯ä»˜æ–¹å¼</a></li>
            <li><a href="/pages/faq#warranty">è´¨ä¿æœåŠ¡</a></li>
            <li><a href="/pages/faq#tracking">è®¢å•è¿½è¸ª</a></li>
            <li><a href="/pages/faq#contact">è”ç³»å®¢æœ</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">Join Us</h4>
          <div class="newsletter-form">
            <p class="newsletter-text">è®¢é˜…è·å–æœ€æ–°ä¼˜æƒ ä¿¡æ¯</p>
            <form action="/contact" method="post" class="newsletter-input">
              <input type="hidden" name="form_type" value="customer">
              <input type="email" name="contact[email]" placeholder="è¾“å…¥é‚®ç®±åœ°å€" required>
              <button type="submit" class="newsletter-submit">è®¢é˜…</button>
            </form>
          </div>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Facebook">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Twitter">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Instagram">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="footer-section">
          <h4 class="footer-title">We Accept</h4>
          <div class="payment-methods">
            <div class="payment-icon">
              <svg width="32" height="20" viewBox="0 0 32 20" fill="currentColor">
                <rect width="32" height="20" rx="2"/>
                <text x="16" y="14" text-anchor="middle" fill="white" font-size="6">VISA</text>
              </svg>
            </div>
            <div class="payment-icon">
              <svg width="32" height="20" viewBox="0 0 32 20" fill="currentColor">
                <rect width="32" height="20" rx="2"/>
                <text x="16" y="14" text-anchor="middle" fill="white" font-size="5">MasterCard</text>
              </svg>
            </div>
            <div class="payment-icon">
              <svg width="32" height="20" viewBox="0 0 32 20" fill="currentColor">
                <rect width="32" height="20" rx="2"/>
                <text x="16" y="14" text-anchor="middle" fill="white" font-size="5">Alipay</text>
              </svg>
            </div>
            <div class="payment-icon">
              <svg width="32" height="20" viewBox="0 0 32 20" fill="currentColor">
                <rect width="32" height="20" rx="2"/>
                <text x="16" y="14" text-anchor="middle" fill="white" font-size="5">WeChat</text>
              </svg>
            </div>
          </div>
        </div>
        <div class="copyright">
          <p>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

</div>

<!-- å¼•ç”¨å…¬å…±æ ·å¼æ–‡ä»¶ -->
{{ 'common-styles.css' | asset_url | stylesheet_tag }}

<!-- é¡µé¢ç‰¹å®šæ ·å¼ -->
<style>

  /* æ»šåŠ¨Bannerå›¾éƒ¨åˆ† - 100%å®½åº¦ï¼Œ45%é«˜åº¦ */
  .scrolling-banner-section {
    width: 100%;
    height: 45vh;
    position: relative;
    overflow: hidden;
    margin: 0;
  }

  .scrolling-banner {
    width: 100%;
    height: 100%;
    position: relative;
  }

  .banner-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 1s ease-in-out;
  }

  .banner-slide.active {
    opacity: 1;
  }

  .banner-content {
    text-align: center;
    color: white;
    z-index: 2;
    position: relative;
    max-width: 600px;
    padding: var(--spacing-xl);
  }

  .banner-title {
    font-size: var(--font-size-4xl);
    font-weight: 700;
    margin-bottom: var(--spacing-md);
    text-shadow: 0 2px 10px rgba(0,0,0,0.5);
  }

  .banner-subtitle {
    font-size: var(--font-size-lg);
    margin-bottom: var(--spacing-xl);
    opacity: 0.9;
  }

  .banner-button {
    margin-top: var(--spacing-md);
  }

  .banner-indicators {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: var(--spacing-sm);
    z-index: 3;
  }

  .indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .indicator.active {
    background: var(--accent-color);
    transform: scale(1.2);
  }

  /* äº§å“åˆ†ç±»éƒ¨åˆ† - 60%å®½åº¦ï¼Œ45%é«˜åº¦ */
  .product-categories-section {
    padding: var(--spacing-2xl) 0;
  }

  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-lg);
    margin-top: var(--spacing-xl);
  }

  .category-card {
    position: relative;
    overflow: hidden;
    border-radius: clamp(0.5rem, 2vw, 1rem);
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    transition: var(--transition);
  }

  .category-link {
    display: block;
    text-decoration: none;
    color: var(--primary-color);
  }

  .category-image {
    width: 100%;
    height: 200px;
    overflow: hidden;
    position: relative;
  }

  .category-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .placeholder-image {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-3xl);
    background: rgba(135, 206, 235, 0.1);
    color: var(--secondary-color);
  }

  .category-info {
    padding: var(--spacing-md);
    text-align: center;
  }

  .category-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
  }

  .category-count {
    color: var(--text-light);
    font-size: var(--font-size-sm);
  }

  .category-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .view-category {
    color: white;
    font-weight: 600;
    font-size: var(--font-size-base);
  }

  .category-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(135, 206, 235, 0.3);
  }

  .category-card:hover .category-image img {
    transform: scale(1.1);
  }

  .category-card:hover .category-overlay {
    opacity: 1;
  }

  /* æ´»åŠ¨æ¨ªå¹…éƒ¨åˆ† - 60%å®½åº¦ï¼Œåœ†è§’ï¼Œ30%é«˜åº¦ */
  .promo-banner-section {
    padding: var(--spacing-xl) 0;
  }

  .promo-banner {
    border-radius: clamp(1rem, 3vw, 2rem);
    padding: var(--spacing-2xl);
    color: white;
    position: relative;
    overflow: hidden;
    min-height: 30vh;
    display: flex;
    align-items: center;
  }

  .promo-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    z-index: 2;
    position: relative;
  }

  .promo-text {
    flex: 1;
  }

  .promo-title {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--spacing-sm);
  }

  .promo-subtitle {
    font-size: var(--font-size-lg);
    opacity: 0.9;
  }

  .promo-button {
    margin-left: var(--spacing-xl);
  }

  .promo-visual {
    position: absolute;
    right: -50px;
    top: 50%;
    transform: translateY(-50%);
    width: 200px;
    height: 200px;
  }

  .glow-effect {
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
    animation: glow 3s ease-in-out infinite;
  }

  .pulse-effect {
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 60%);
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes glow {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 1; }
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.7; }
    50% { transform: scale(1.1); opacity: 1; }
  }

  /* çƒ­é”€äº§å“å±•ç¤º - 5ä¸ªäº§å“ä¸€è¡Œï¼Œ60%å®½åº¦ï¼Œ45%é«˜åº¦ */
  .hot-products-section {
    padding: var(--spacing-2xl) 0;
  }

  .products-grid-five {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: var(--spacing-lg);
    margin-top: var(--spacing-xl);
  }

  .products-grid-five.single-row {
    grid-template-columns: repeat(5, 1fr);
    margin-bottom: var(--spacing-xl);
  }

  .product-card-five {
    background: rgba(255, 255, 255, 0.05);
    border-radius: clamp(0.5rem, 2vw, 1rem);
    overflow: hidden;
    transition: var(--transition);
    position: relative;
  }

  .product-link {
    display: block;
    text-decoration: none;
    color: var(--primary-color);
  }

  .product-image {
    position: relative;
    width: 100%;
    height: 200px;
    overflow: hidden;
  }

  .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .sale-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background: var(--warning-color);
    color: white;
    padding: 4px 8px;
    border-radius: 20px;
    font-size: var(--font-size-xs);
    font-weight: bold;
  }

  .activity-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background: var(--accent-color);
    color: var(--dark-bg);
    padding: 4px 8px;
    border-radius: 20px;
    font-size: var(--font-size-xs);
    font-weight: bold;
  }

  .product-info {
    padding: var(--spacing-md);
    text-align: center;
  }

  .product-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: var(--accent-color);
  }

  .product-price {
    margin-bottom: var(--spacing-sm);
  }

  .compare-price {
    text-decoration: line-through;
    color: var(--text-light);
    margin-right: var(--spacing-xs);
    font-size: var(--font-size-sm);
  }

  .current-price {
    color: var(--accent-color);
    font-weight: bold;
    font-size: var(--font-size-lg);
  }

  .product-hover {
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .quick-view {
    color: var(--secondary-color);
    font-size: var(--font-size-sm);
  }

  .product-card-five:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(135, 206, 235, 0.4), 0 5px 15px rgba(0, 0, 0, 0.2);
  }

  .product-card-five {
    background: rgba(255, 255, 255, 0.05);
    border-radius: clamp(0.5rem, 2vw, 1rem);
    overflow: hidden;
    transition: var(--transition);
    position: relative;
    border-bottom: 3px solid rgba(135, 206, 235, 0.3);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  .product-card-five:hover .product-image img {
    transform: scale(1.1);
  }

  .product-card-five:hover .product-hover {
    opacity: 1;
  }

  .activity-product {
    border: 2px solid var(--accent-color);
  }

  .countdown-timer {
    margin-top: var(--spacing-sm);
    padding: 4px 8px;
    background: rgba(135, 206, 235, 0.1);
    border-radius: 15px;
    display: inline-block;
  }

  .countdown-text {
    font-size: var(--font-size-xs);
    color: var(--secondary-color);
  }

  
  .section-header {
    text-align: center;
    margin-bottom: var(--spacing-2xl);
  }

  .section-title {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--spacing-md);
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .section-subtitle {
    color: rgba(255, 255, 255, 0.8);
    font-size: var(--font-size-lg);
    max-width: 600px;
    margin: 0 auto;
  }

  .section-actions {
    text-align: center;
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-2xl);
  }

  .section-actions .glow-button {
    margin-bottom: var(--spacing-md);
  }

  
  </style>

<!-- å¢å¼ºç‰ˆJavaScriptåŠŸèƒ½ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // æ›´æ–°è´­ç‰©è½¦ä¿¡æ¯
  updateCartInfo();

  // å¯¼èˆªæ æ»šåŠ¨æ•ˆæœ
  initStickyNavigation();

  // æœç´¢åŠŸèƒ½
  initSearchFunction();

  // æ™ºèƒ½æ¨ªå¹…æ»šåŠ¨æ£€æµ‹
  initSmartAnnouncementScroll();

  // æ»šåŠ¨Bannerè‡ªåŠ¨æ’­æ”¾
  initScrollingBanner();

  // Mega Menuåˆå§‹åŒ–
  initMegaMenu();

  // å“åº”å¼å­—ä½“åŠ¨æ€è°ƒæ•´
  initResponsiveFontAdjustment();

  // æŒ‰é’®å‘å…‰æ•ˆæœå¢å¼º
  initEnhancedButtonEffects();
});

function updateCartInfo() {
  fetch('/cart.js')
    .then(response => response.json())
    .then(cart => {
      const cartTotalElement = document.getElementById('cartTotal');
      if (cartTotalElement) {
        cartTotalElement.textContent = formatMoney(cart.total_price);
      }

      const cartCountElement = document.getElementById('cartCount');
      if (cartCountElement) {
        cartCountElement.textContent = cart.item_count;
      }
    })
    .catch(error => {
      console.error('è·å–è´­ç‰©è½¦ä¿¡æ¯å¤±è´¥:', error);
    });
}

function formatMoney(cents) {
  return 'Â¥' + (cents / 100).toFixed(2);
}

function initStickyNavigation() {
  const navigation = document.querySelector('.main-navigation');
  if (!navigation) return;

  window.addEventListener('scroll', function() {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    if (scrollTop > 100) {
      navigation.classList.add('scrolled');
    } else {
      navigation.classList.remove('scrolled');
    }
  });
}

function initSearchFunction() {
  const searchForm = document.querySelector('.search-form');
  if (!searchForm) return;

  searchForm.addEventListener('submit', function(e) {
    const searchInput = searchForm.querySelector('.search-input');
    if (searchInput && searchInput.value.trim() === '') {
      e.preventDefault();
      searchInput.focus();
    }
  });
}

function initSmartAnnouncementScroll() {
  const announcementText = document.getElementById('announcementText');
  if (!announcementText) return;

  function checkAndToggleScroll() {
    const containerWidth = announcementText.parentElement.offsetWidth;
    const textWidth = announcementText.scrollWidth;

    if (textWidth > containerWidth) {
      // æ–‡å­—è¶…å‡ºå®¹å™¨å®½åº¦ï¼Œå¯ç”¨æ»šåŠ¨
      announcementText.classList.add('has-scroll');
      announcementText.style.animation = 'marquee-slow 40s linear infinite';
    } else {
      // æ–‡å­—æœªè¶…å‡ºï¼Œç¦ç”¨æ»šåŠ¨
      announcementText.classList.remove('has-scroll');
      announcementText.style.animation = 'none';
    }
  }

  // åˆå§‹æ£€æŸ¥
  checkAndToggleScroll();

  // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°æ£€æŸ¥
  let resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(checkAndToggleScroll, 250);
  });
}

// æ»šåŠ¨Bannerè‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
function initScrollingBanner() {
  const banner = document.getElementById('scrollingBanner');
  const slides = banner.querySelectorAll('.banner-slide');
  const indicators = document.querySelectorAll('.banner-indicators .indicator');

  if (!banner || slides.length === 0) return;

  let currentSlide = 0;
  let slideInterval;

  function showSlide(index) {
    // éšè—æ‰€æœ‰å¹»ç¯ç‰‡
    slides.forEach(slide => slide.classList.remove('active'));
    indicators.forEach(indicator => indicator.classList.remove('active'));

    // æ˜¾ç¤ºå½“å‰å¹»ç¯ç‰‡
    slides[index].classList.add('active');
    indicators[index].classList.add('active');

    currentSlide = index;
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }

  // å¼€å§‹è‡ªåŠ¨æ’­æ”¾
  function startAutoPlay() {
    slideInterval = setInterval(nextSlide, 5000); // 5ç§’åˆ‡æ¢ä¸€æ¬¡
  }

  // åœæ­¢è‡ªåŠ¨æ’­æ”¾
  function stopAutoPlay() {
    if (slideInterval) {
      clearInterval(slideInterval);
      slideInterval = null;
    }
  }

  // æŒ‡ç¤ºå™¨ç‚¹å‡»äº‹ä»¶
  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      stopAutoPlay();
      showSlide(index);
      startAutoPlay();
    });
  });

  // é¼ æ ‡æ‚¬åœæ—¶æš‚åœè‡ªåŠ¨æ’­æ”¾
  banner.addEventListener('mouseenter', stopAutoPlay);
  banner.addEventListener('mouseleave', startAutoPlay);

  // å¼€å§‹è‡ªåŠ¨æ’­æ”¾
  startAutoPlay();
}

// Mega Menuå¢å¼ºåŠŸèƒ½
function initMegaMenu() {
  const megaDropdown = document.querySelector('.mega-dropdown');
  const megaMenu = document.querySelector('.mega-menu');

  if (!megaDropdown || !megaMenu) return;

  let hideTimeout;

  // é¼ æ ‡è¿›å…¥å¯¼èˆªé¡¹æ—¶æ˜¾ç¤ºèœå•
  megaDropdown.addEventListener('mouseenter', () => {
    clearTimeout(hideTimeout);
    // ä½¿ç”¨CSS transitionæ¥æ˜¾ç¤ºèœå•ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¾ç½®æ ·å¼
    megaMenu.style.visibility = 'visible';
    megaMenu.style.opacity = '1';
    megaMenu.style.transform = 'translateY(0)';
  });

  // é¼ æ ‡ç¦»å¼€å¯¼èˆªé¡¹æˆ–èœå•æ—¶éšè—èœå•
  const hideMenu = () => {
    hideTimeout = setTimeout(() => {
      megaMenu.style.visibility = 'hidden';
      megaMenu.style.opacity = '0';
      megaMenu.style.transform = 'translateY(-20px)';
    }, 150);
  };

  megaDropdown.addEventListener('mouseleave', hideMenu);
  megaMenu.addEventListener('mouseleave', hideMenu);

  // é¼ æ ‡é‡æ–°è¿›å…¥èœå•æ—¶å–æ¶ˆéšè—
  megaMenu.addEventListener('mouseenter', () => {
    clearTimeout(hideTimeout);
  });

  // ç‚¹å‡»å¤–éƒ¨æ—¶å…³é—­èœå•
  document.addEventListener('click', (e) => {
    if (!megaDropdown.contains(e.target) && !megaMenu.contains(e.target)) {
      megaMenu.style.visibility = 'hidden';
      megaMenu.style.opacity = '0';
      megaMenu.style.transform = 'translateY(-20px)';
    }
  });

  // é”®ç›˜æ”¯æŒ
  megaDropdown.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      megaMenu.style.visibility = 'visible';
      megaMenu.style.opacity = '1';
      megaMenu.style.transform = 'translateY(0)';
    }
  });

  // ESCé”®å…³é—­èœå•
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      megaMenu.style.visibility = 'hidden';
      megaMenu.style.opacity = '0';
      megaMenu.style.transform = 'translateY(-20px)';
    }
  });
}

function initResponsiveFontAdjustment() {
  function adjustFontSizes() {
    const screenWidth = window.innerWidth;

    if (screenWidth < 768) {
      document.body.style.fontSize = '16px';
    } else if (screenWidth < 1200) {
      document.body.style.fontSize = '18px';
    } else {
      document.body.style.fontSize = '20px';
    }
  }

  adjustFontSizes();

  let resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(adjustFontSizes, 250);
  });
}

function initEnhancedButtonEffects() {
  // ä¸ºå¢å¼ºç‰ˆæŒ‰é’®æ·»åŠ é¢å¤–çš„è§†è§‰æ•ˆæœ
  const enhancedButtons = document.querySelectorAll('.header-btn.enhanced');

  enhancedButtons.forEach(button => {
    // é¼ æ ‡è¿›å…¥æ—¶çš„é¢å¤–æ•ˆæœ
    button.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-3px) scale(1.02)';
    });

    button.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0) scale(1)';
    });

    // ç‚¹å‡»æ—¶çš„è„‰å†²æ•ˆæœ
    button.addEventListener('click', function(e) {
      // åˆ›å»ºè„‰å†²æ³¢çº¹æ•ˆæœ
      const ripple = document.createElement('span');
      ripple.style.position = 'absolute';
      ripple.style.borderRadius = '50%';
      ripple.style.background = 'rgba(255, 255, 255, 0.5)';
      ripple.style.transform = 'scale(0)';
      ripple.style.animation = 'ripple-effect 0.6s ease-out';

      const rect = this.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const x = e.clientX - rect.left - size / 2;
      const y = e.clientY - rect.top - size / 2;

      ripple.style.width = ripple.style.height = size + 'px';
      ripple.style.left = x + 'px';
      ripple.style.top = y + 'px';

      this.appendChild(ripple);

      setTimeout(() => {
        ripple.remove();
      }, 600);
    });
  });

  // æ·»åŠ æ³¢çº¹åŠ¨ç”»æ ·å¼
  if (!document.querySelector('#ripple-style')) {
    const style = document.createElement('style');
    style.id = 'ripple-style';
    style.textContent = `
      @keyframes ripple-effect {
        0% {
          transform: scale(0);
          opacity: 1;
        }
        100% {
          transform: scale(2);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);
  }
}

// è´­ç‰©è½¦å®æ—¶æ›´æ–°
document.addEventListener('cart:updated', function() {
  updateCartInfo();
});

// äº§å“æ·»åŠ åˆ°è´­ç‰©è½¦æ—¶æ›´æ–°
document.addEventListener('click', function(e) {
  if (e.target.matches('[action="/cart/add"] button, [action="/cart/add"] input[type="submit"]')) {
    setTimeout(updateCartInfo, 500);
  }
});
</script>